<!DOCTYPE html>
<html>
<head>
    <title>TOPSIS - Analiza decizionala</title>
    <style>
        .section { margin-bottom: 20px; padding: 10px; border: 1px solid #ccc; }
        .criteriu, .alternativa { margin-bottom: 10px; }
    </style>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <link rel="stylesheet" href="static/styles.css">
</head>
<body>
 <h2 class="title">Sistem decizional multicriterial - TOPSIS</h2>

    <form action="/topsis" method="POST" class="form">
        <div class="section" id="criterii-section">
            <h3>Criterii</h3>
            <div class="criteriu">
                Nume: <input type="text" name="criteriu_nume[]" required>
                Pondere: <input type="number" name="criteriu_pondere[]" step="0.01" required>
                Tip:
                <select name="criteriu_tip[]">
                    <option value="1">Beneficiu</option>
                    <option value="0">Cost</option>
                </select>
            </div>
        </div>
        <button type="button" onclick="adaugaCriteriu()">Adaugă criteriu</button>

        <div class="section" id="alternative-section">
            <h3>Alternative</h3>
            <div class="alternativa">
                Nume: <input type="text" name="alternativa_nume[]" required><br>
                <div class="valori_criterii"></div>
            </div>
        </div>
        <button type="button" onclick="adaugaAlternativa()">Adaugă alternativă</button>

        <br><br>
        <button type="submit">Calculează scorul TOPSIS</button>
    </form>

    {% if rezultate %}
    <h3>Rezultate TOPSIS:</h3>
    <ol>
        {% for nume, scor in rezultate %}
            <li {% if loop.first %} class="first_alt" {% endif %}>
            <strong>{{ nume }}</strong> — Scor: {{ "%.4f"|format(scor) }}
            {% if loop.first %}(Varianta optimă){% endif %}
            </li>
        {% endfor %}
    </ol>
    {% endif %}
</body>
</html>
